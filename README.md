# Система онлайн записи через Telegram

## Настройка Telegram бота

1. **Создайте бота в BotFather:**
   - Напишите @BotFather в Telegram
   - Отправьте `/newbot`
   - Следуйте инструкциям и получите токен

2. **Настройте Web App:**
   - Отправьте `/setmenubutton` в BotFather
   - Выберите вашего бота
   - Укажите URL вашей страницы записи
   - Установите текст кнопки: "Записаться"

3. **Установите зависимости:**
   ```bash
   pip install pyTelegramBotAPI
   ```

4. **Создайте канал для заявок:**
   - Создайте приватный канал в Telegram
   - Добавьте бота как администратора канала
   - Скопируйте ссылку канала (например: @your_bookings_channel)

5. **Настройте бота:**
   - Замените `YOUR_BOT_TOKEN` на токен вашего бота
   - Замените `https://yourdomain.com/booking.html` на URL вашей страницы
   - Замените `@your_bookings_channel` на ваш канал
   - Замените `YOUR_ADMIN_ID` на ваш Telegram ID

4. **Настройте бота:**
   - Замените `YOUR_BOT_TOKEN` на токен вашего бота
   - Замените `https://yourdomain.com/booking.html` на URL вашей страницы
   - Замените `YOUR_ADMIN_CHAT_ID` на ID админского чата

## Как это работает

1. **Пользователь запускает бота** - получает кнопку "Записаться на клининг"
2. **Нажимает кнопку** - открывается Web App с формой записи
3. **Данные автозаполняются** - имя и телефон берутся из Telegram профиля
4. **Заполняет форму** - выбирает дату, время, услугу и т.д.
5. **Отправляет заявку** - данные возвращаются в бот
6. **Получает подтверждение** - бот отправляет уведомление клиенту и админу

## Автозаполнение данных

Из Telegram автоматически заполняются:
- **Имя** - first_name + last_name
- **Телефон** - если пользователь предоставил доступ

## Админ панель

**Команды администратора:**
- `/admin` - открыть админ панель
- `/update_status B20241201120000 Подтверждена` - обновить статус заявки

**Просмотр заявок:**
- Все заявки сохраняются в приватном канале
- Каждая заявка имеет уникальный ID
- Поиск по дате через поиск в канале
- Статусы заявок: Новая, Подтверждена, Выполнена, Отменена

## Запуск

1. Разместите `booking.html` на веб-сервере с HTTPS
2. Создайте приватный канал и добавьте бота
3. Запустите бота: `python telegram_bot.py`
4. Протестируйте через команду `/start` в боте